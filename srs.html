<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Pet Feeder - Pro Requirements Tracker</title>
    <style>
        :root {
            --bg-page: #f8fafc;
            --bg-header: #ffffff;
            --text-main: #1e293b;
            --border-color: #e2e8f0;
            --accent-blue: #2563eb;
            --accent-black: #0f172a;
            --highlight-bg: #eff6ff;
            --success-green: #22c55e;
            --warning-orange: #f59e0b;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--bg-page);
            color: var(--text-main);
            margin: 0;
            padding: 40px;
            line-height: 1.5;
        }

        header {
            background: var(--bg-header);
            padding: 40px;
            border: 1px solid var(--border-color);
            border-top: 6px solid var(--accent-black);
            margin-bottom: 40px;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            border-radius: 8px;
        }

        h1 {
            margin: 0;
            text-transform: uppercase;
            font-size: 2em;
            letter-spacing: -0.5px;
            color: var(--accent-black);
        }

        .stats {
            display: flex;
            gap: 40px;
            margin-top: 20px;
            font-size: 0.95em;
            color: #64748b;
            align-items: center;
        }

        #global-progress {
            font-size: 2.2em;
            font-weight: 800;
            color: var(--accent-black);
        }

        .this-week-badge {
            background: var(--accent-blue);
            color: #fff;
            font-size: 0.7em;
            padding: 4px 10px;
            border-radius: 99px;
            vertical-align: middle;
            text-transform: uppercase;
            font-weight: 800;
            letter-spacing: 0.5px;
            display: inline-block;
            margin-left: 10px;
        }

        .subsystem-header {
            background: var(--accent-black);
            color: #fff;
            padding: 18px 25px;
            font-weight: 700;
            text-transform: uppercase;
            margin-top: 50px;
            border-radius: 8px 8px 0 0;
            letter-spacing: 1px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: #fff;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            margin-bottom: 30px;
            border-radius: 0 0 8px 8px;
            overflow: hidden;
        }

        th {
            background: #f1f5f9;
            text-align: left;
            padding: 15px 20px;
            font-size: 0.8em;
            text-transform: uppercase;
            border-bottom: 2px solid var(--border-color);
            color: #475569;
        }

        .feature-group {
            background: #ffffff;
            cursor: pointer;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color);
            transition: background 0.2s;
        }

        .feature-group:hover {
            background: #f8fafc;
        }

        .feature-group td {
            padding: 18px 20px;
        }

        .this-week {
            background-color: var(--highlight-bg) !important;
            border-left: 4px solid var(--accent-blue) !important;
        }

        .nested-row {
            display: none;
            background: #fafafa;
        }

        .nested-row.visible {
            display: table-row;
        }

        .sub-table {
            width: 100%;
            border-collapse: collapse;
        }

        .sub-table td {
            padding: 12px 20px 12px 60px;
            border-bottom: 1px solid #f1f5f9;
            font-size: 0.92em;
        }

        .id-cell { font-family: 'JetBrains Mono', monospace; font-weight: bold; color: #94a3b8; width: 80px; font-size: 0.85em; }
        .type-badge {
            font-size: 0.7em;
            padding: 3px 8px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            text-transform: uppercase;
            background: #fff;
            color: #64748b;
            font-weight: 600;
        }

        select {
            width: 140px;
            padding: 6px;
            font-size: 0.85em;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: #fff;
            cursor: pointer;
            font-weight: 600;
        }

        .status-0 { color: #94a3b8; }
        .status-1 { color: var(--warning-orange); font-weight: 700; }
        .status-2 { color: var(--success-green); font-weight: 700; }

        .progress-box { display: flex; align-items: center; gap: 15px; }
        .group-percent { width: 50px; text-align: right; font-weight: 800; font-size: 0.95em; }
        .progress-bar { flex-grow: 1; height: 8px; background: #e2e8f0; border-radius: 99px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--accent-black); transition: width 0.6s ease-in-out; }

        .toggle-icon { font-family: monospace; display: inline-block; width: 25px; transition: 0.3s; font-size: 1.1em; color: var(--accent-blue); }
        .expanded .toggle-icon { transform: rotate(90deg); }
        
        .footer-note {
            margin-top: 60px;
            text-align: center;
            font-size: 0.85em;
            color: #94a3b8;
            padding-bottom: 40px;
        }
    </style>
</head>
<body>

    <header>
        <h1>Smart Pet Feeder - Development Goal Tracker</h1>
        <div class="stats">
            <div>Requirements Analyzed: <strong>168</strong></div>
            <div>|</div>
            <div>This Week: <span style="color: var(--accent-blue); font-weight: 800;">⚡ FEATURE SURGE</span></div>
            <div>|</div>
            <div>Overall Progress: <span id="global-progress">0%</span></div>
        </div>
        <p style="font-size: 0.9em; color: #64748b; margin-top: 15px;">
             Rows highlighted with <span class="this-week-badge">This Week</span> indicate work completed in the latest sprint. IoT and Hardware status reflect actual progress.
        </p>
    </header>

    <!-- 1. USER MANAGEMENT -->
    <div class="subsystem-header">1. User Accounts & Security</div>
    <table>
        <thead>
            <tr> <th width="60%">Specific Requirement / Feature</th> <th width="15%">Type</th> <th width="25%">Status</th> </tr>
        </thead>
        <tbody>
            <tr class="feature-group" onclick="toggle(this, 'c1-auth')">
                <td colspan="2"><span class="toggle-icon">▶</span> User Authentication System</td>
                <td><div class="progress-box"><span class="group-percent">0%</span><div class="progress-bar"><div class="progress-fill"></div></div></div></td>
            </tr>
            <tr id="c1-auth" class="nested-row"> <td colspan="3"><table class="sub-table">
                <tr><td><span class="id-cell">FR1.1</span> Email/Password Registration</td><td><span class="type-badge">Func</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr><td><span class="id-cell">FR1.2</span> Automated Token-based Verification</td><td><span class="type-badge">Security</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr><td><span class="id-cell">FR1.3</span> JWT Session Persistence</td><td><span class="type-badge">Core</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr><td><span class="id-cell">FR1.4</span> Login Failure Rate-limiting</td><td><span class="type-badge">Security</span></td><td><select onchange="recalc()"><option value="0">Incomplete</option></select></td></tr>
            </table></td></tr>
        </tbody>
    </table>

    <!-- 2. PET PROFILES (HIGHLIGHTED) -->
    <div class="subsystem-header">2. Pet Profiles & Bio-Data</div>
    <table>
        <thead>
            <tr> <th width="60%">Specific Requirement / Feature</th> <th width="15%">Type</th> <th width="25%">Status</th> </tr>
        </thead>
        <tbody>
            <tr class="feature-group this-week" onclick="toggle(this, 'c2-pet')">
                <td colspan="2"><span class="toggle-icon">▶</span> Multi-Pet Ecosystem <span class="this-week-badge">This Week</span></td>
                <td><div class="progress-box"><span class="group-percent">0%</span><div class="progress-bar"><div class="progress-fill"></div></div></div></td>
            </tr>
            <tr id="c2-pet" class="nested-row"> <td colspan="3"><table class="sub-table">
                <tr class="this-week"><td><span class="id-cell">FR2.1</span> Create Unlimited Pet Profiles</td><td><span class="type-badge">Func</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr class="this-week"><td><span class="id-cell">FR2.2</span> Custom SVGs / Avatar Selection</td><td><span class="type-badge">UI/UX</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr class="this-week"><td><span class="id-cell">FR2.3</span> Detailed Bio-data (Age, Weight, Breed)</td><td><span class="type-badge">Data</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr class="this-week"><td><span class="id-cell">FR2.4</span> Secure Profile Deletion Flow</td><td><span class="type-badge">Logic</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
            </table></td></tr>
        </tbody>
    </table>

    <!-- 3. FEEDING OPERATIONS -->
    <div class="subsystem-header">3. Feeding Control & Scheduler</div>
    <table>
        <thead>
            <tr> <th width="60%">Specific Requirement / Feature</th> <th width="15%">Type</th> <th width="25%">Status</th> </tr>
        </thead>
        <tbody>
            <tr class="feature-group" onclick="toggle(this, 'c3-feed')">
                <td colspan="2"><span class="toggle-icon">▶</span> Remote Feeding Engine</td>
                <td><div class="progress-box"><span class="group-percent">0%</span><div class="progress-bar"><div class="progress-fill"></div></div></div></td>
            </tr>
            <tr id="c3-feed" class="nested-row"> <td colspan="3"><table class="sub-table">
                <tr><td><span class="id-cell">FR3.1</span> Manual Dispense Trigger</td><td><span class="type-badge">Func</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr><td><span class="id-cell">FR3.2</span> Gram-based Portion Selection</td><td><span class="type-badge">Logic</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr><td><span class="id-cell">FR3.3</span> Recurring Feeding Schedules</td><td><span class="type-badge">Logic</span></td><td><select onchange="recalc()"><option value="1">In Progress</option></select></td></tr>
                <tr><td><span class="id-cell">FR3.4</span> Offline Command Queue</td><td><span class="type-badge">Reliability</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
            </table></td></tr>
        </tbody>
    </table>

    <!-- 4. IOT & CONNECTIVITY (CORRECTED) -->
    <div class="subsystem-header">4. IoT Pairing & Hardware Control</div>
    <table>
        <thead>
            <tr> <th width="60%">Specific Requirement / Feature</th> <th width="15%">Type</th> <th width="25%">Status</th> </tr>
        </thead>
        <tbody>
            <tr class="feature-group" onclick="toggle(this, 'c4-iot')">
                <td colspan="2"><span class="toggle-icon">▶</span> Device Integration Layer</td>
                <td><div class="progress-box"><span class="group-percent">0%</span><div class="progress-bar"><div class="progress-fill"></div></div></div></td>
            </tr>
            <tr id="c4-iot" class="nested-row"> <td colspan="3"><table class="sub-table">
                <tr><td><span class="id-cell">FR4.1</span> WiFi Provisioning (User Interface)</td><td><span class="type-badge">Interface</span></td><td><select onchange="recalc()"><option value="0" selected>Incomplete</option></select></td></tr>
                <tr><td><span class="id-cell">FR4.2</span> Serial Number (SN) Validation</td><td><span class="type-badge">Security</span></td><td><select onchange="recalc()"><option value="0" selected>Incomplete</option></select></td></tr>
                <tr><td><span class="id-cell">FR4.3</span> Direct PWM Servo Control</td><td><span class="type-badge">Hardware</span></td><td><select onchange="recalc()"><option value="0" selected>Incomplete</option></select></td></tr>
                <tr><td><span class="id-cell">FR4.4</span> Online/Offline PING Logic</td><td><span class="type-badge">Connectivity</span></td><td><select onchange="recalc()"><option value="1">In Progress</option></select></td></tr>
            </table></td></tr>
        </tbody>
    </table>

    <!-- 5. ANALYTICS & MONITORING (RESTORED) -->
    <div class="subsystem-header">5. Analytics & Historical Logs</div>
    <table>
        <thead>
            <tr> <th width="60%">Specific Requirement / Feature</th> <th width="15%">Type</th> <th width="25%">Status</th> </tr>
        </thead>
        <tbody>
            <tr class="feature-group" onclick="toggle(this, 'c5-anal')">
                <td colspan="2"><span class="toggle-icon">▶</span> Data Insights Layer</td>
                <td><div class="progress-box"><span class="group-percent">0%</span><div class="progress-bar"><div class="progress-fill"></div></div></div></td>
            </tr>
            <tr id="c5-anal" class="nested-row"> <td colspan="3"><table class="sub-table">
                <tr><td><span class="id-cell">FR5.1</span> Feeding History Logs (Dashboard)</td><td><span class="type-badge">Feature</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr><td><span class="id-cell">FR5.2</span> Daily Intake Summary Charts</td><td><span class="type-badge">Visual</span></td><td><select onchange="recalc()"><option value="1">In Progress</option></select></td></tr>
                <tr><td><span class="id-cell">FR5.3</span> Food/Water Level Percentage</td><td><span class="type-badge">Sensor</span></td><td><select onchange="recalc()"><option value="0">Incomplete</option></select></td></tr>
            </table></td></tr>
        </tbody>
    </table>

    <!-- 6. NOTIFICATIONS (RESTORED) -->
    <div class="subsystem-header">6. Multi-Channel Notifications</div>
    <table>
        <thead>
            <tr> <th width="60%">Specific Requirement / Feature</th> <th width="15%">Type</th> <th width="25%">Status</th> </tr>
        </thead>
        <tbody>
            <tr class="feature-group" onclick="toggle(this, 'c6-notif')">
                <td colspan="2"><span class="toggle-icon">▶</span> Alerting System</td>
                <td><div class="progress-box"><span class="group-percent">0%</span><div class="progress-bar"><div class="progress-fill"></div></div></div></td>
            </tr>
            <tr id="c6-notif" class="nested-row"> <td colspan="3"><table class="sub-table">
                <tr><td><span class="id-cell">FR6.1</span> Push Notification on Success</td><td><span class="type-badge">Feedback</span></td><td><select onchange="recalc()"><option value="0">Incomplete</option></select></td></tr>
                <tr><td><span class="id-cell">FR6.2</span> Low Food Stock Warning</td><td><span class="type-badge">Alert</span></td><td><select onchange="recalc()"><option value="0">Incomplete</option></select></td></tr>
                <tr><td><span class="id-cell">FR6.3</span> Security Intrusion Alert</td><td><span class="type-badge">Safety</span></td><td><select onchange="recalc()"><option value="0">Incomplete</option></select></td></tr>
            </table></td></tr>
        </tbody>
    </table>

    <!-- 7. UI/UX (HIGHLIGHTED) -->
    <div class="subsystem-header">7. Design System & UX</div>
    <table>
        <thead>
            <tr> <th width="60%">Specific Requirement / Feature</th> <th width="15%">Type</th> <th width="25%">Status</th> </tr>
        </thead>
        <tbody>
            <tr class="feature-group this-week" onclick="toggle(this, 'c7-ui')">
                <td colspan="2"><span class="toggle-icon">▶</span> Aesthetic & Layout <span class="this-week-badge">This Week</span></td>
                <td><div class="progress-box"><span class="group-percent">0%</span><div class="progress-bar"><div class="progress-fill"></div></div></div></td>
            </tr>
            <tr id="c7-ui" class="nested-row"> <td colspan="3"><table class="sub-table">
                <tr class="this-week"><td><span class="id-cell">UI7.1</span> Premium Sidebar Navigation</td><td><span class="type-badge">Nav</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr class="this-week"><td><span class="id-cell">UI7.2</span> Glassmorphism / Backdrop Blur Effects</td><td><span class="type-badge">Design</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr class="this-week"><td><span class="id-cell">UI7.3</span> SPF Blue (#2563EB) Brand Palette</td><td><span class="type-badge">Brand</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
                <tr class="this-week"><td><span class="id-cell">UI7.4</span> Interactive Pet Cards with Hover-Effects</td><td><span class="type-badge">UX</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
            </table></td></tr>
        </tbody>
    </table>

    <!-- 8. SYSTEM QUALITY -->
    <div class="subsystem-header">8. Quality, Performance & Constraints</div>
    <table>
        <thead>
            <tr> <th width="60%">Requirement Detail</th> <th width="15%">Type</th> <th width="25%">Status</th> </tr>
        </thead>
        <tbody>
            <tr class="feature-group" onclick="toggle(this, 'c8-qual')">
                <td colspan="2"><span class="toggle-icon">▶</span> QoS & Compliance</td>
                <td><div class="progress-box"><span class="group-percent">0%</span><div class="progress-bar"><div class="progress-fill"></div></div></div></td>
            </tr>
            <tr id="c8-qual" class="nested-row"> <td colspan="3"><table class="sub-table">
                <tr><td><span class="id-cell">NFR8.1</span> sub-2s API Latency Baseline</td><td><span class="type-badge">Perf</span></td><td><select onchange="recalc()"><option value="1">In Progress</option></select></td></tr>
                <tr><td><span class="id-cell">NFR8.2</span> WCAG 2.1 Accessibility Compliance</td><td><span class="type-badge">Design</span></td><td><select onchange="recalc()"><option value="0">Incomplete</option></select></td></tr>
                <tr><td><span class="id-cell">NFR8.3</span> TLS 1.3 Data Encryption</td><td><span class="type-badge">Security</span></td><td><select onchange="recalc()"><option value="2" selected>Completed</option></select></td></tr>
            </table></td></tr>
        </tbody>
    </table>

    <div class="footer-note">
        &copy; 2026 Smart Pet Feeder (SPF) - Professional Development Roadmap
    </div>

    <script>
        function toggle(row, id) {
            const nested = document.getElementById(id);
            const isVisible = nested.classList.contains('visible');
            nested.classList.toggle('visible', !isVisible);
            row.classList.toggle('expanded', !isVisible);
        }

        function recalc() {
            const groups = document.querySelectorAll('.nested-row');
            let globalTotal = 0;
            let globalMax = 0;

            groups.forEach(group => {
                const selects = group.querySelectorAll('select');
                let score = 0;
                let max = selects.length * 2;

                selects.forEach(s => {
                    const val = parseInt(s.value);
                    score += val;
                    s.className = 'status-' + val;
                });

                const percent = max > 0 ? Math.round((score / max) * 100) : 0;
                const hRow = group.previousElementSibling;
                hRow.querySelector('.group-percent').innerText = percent + '%';
                hRow.querySelector('.progress-fill').style.width = percent + '%';

                globalTotal += score;
                globalMax += max;
            });

            const totalPercent = globalMax > 0 ? Math.round((globalTotal / globalMax) * 100) : 0;
            document.getElementById('global-progress').innerText = totalPercent + '%';
        }

        window.onload = recalc;
    </script>
</body>
</html>
